<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Para el amor de mi vida, Darianny</title>
    <link href="https://fonts.googleapis.com/css2?family=Pacifico&family=Roboto:wght@300;400&display=swap" rel="stylesheet">
    <style>
        /* Todos los estilos anteriores se mantienen igual */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Roboto', sans-serif;
            background: #ffe6f2;
            overflow-x: hidden;
            animation: zoomIn 1.5s ease-out;
        }

        @keyframes zoomIn {
            0% { transform: scale(0.9); opacity: 0; }
            100% { transform: scale(1); opacity: 1; }
        }

        body::before {
            content: '';
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: radial-gradient(circle, rgba(255, 255, 255, 0.1), rgba(255, 255, 255, 0.05));
            z-index: 1;
            pointer-events: none;
        }

        .particles-js {
            position: fixed;
            width: 100%;
            height: 200%;
            z-index: 1;
            background: linear-gradient(45deg, #ffe6f2, #ffd9eb);
            animation: moveBackground 20s linear infinite;
        }

        @keyframes moveBackground {
            0% { transform: translateY(0); }
            100% { transform: translateY(-50%); }
        }

        .container {
            position: relative;
            z-index: 2;
            max-width: 1200px;
            margin: 0 auto;
            padding: 20px;
        }

        .hero {
            text-align: center;
            padding: 100px 20px;
            color: #ff3385;
        }

        .hero h1 {
            font-family: 'Pacifico', cursive;
            font-size: 4em;
            margin-bottom: 20px;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s forwards, gradientShift 5s ease infinite, glow 2s infinite alternate;
            text-shadow: 2px 2px 4px rgba(255, 51, 133, 0.3);
            background: linear-gradient(45deg, #ff3385, #ff66a3);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        @keyframes glow {
            0% { filter: brightness(1); }
            100% { filter: brightness(1.2); }
        }

        .love-letter {
            background: rgba(255, 255, 255, 0.9);
            padding: 40px;
            border-radius: 15px;
            box-shadow: 0 0 20px rgba(255, 51, 133, 0.2);
            margin: 40px 0;
            opacity: 0;
            transform: translateY(30px);
            animation: fadeInUp 1s 0.5s forwards;
            backdrop-filter: blur(5px);
            border: 2px solid rgba(255, 51, 133, 0.15);
            line-height: 1.8;
            transition: all 0.3s ease;
        }

        .love-letter p {
            font-size: 1.1em;
            color: #5a2a3a;
            margin-bottom: 1.5em;
            letter-spacing: 0.5px;
            min-height: 120px;
        }

        .photo-gallery {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 20px;
            margin: 40px 0;
        }

        .photo-item {
            position: relative;
            overflow: hidden;
            border-radius: 10px;
            transition: transform 0.5s ease;
            transform-style: preserve-3d;
            box-shadow: 0 8px 20px rgba(0, 0, 0, 0.1);
            border: 3px solid rgba(255, 255, 255, 0.9);
        }

        .photo-item:hover {
            transform: rotateY(15deg) rotateX(10deg) scale(1.05);
            z-index: 3;
            box-shadow: 0 12px 30px rgba(255, 51, 133, 0.25);
        }

        .photo-item img {
            width: 100%;
            height: 300px;
            object-fit: cover;
        }

        .hearts {
            position: fixed;
            pointer-events: none;
            z-index: 999;
        }

        .heart {
            position: absolute;
            color: #ff3385;
            animation: float 3s linear forwards;
        }

        .snowflake {
            position: fixed;
            top: -10px;
            color: #fff;
            font-size: 20px;
            pointer-events: none;
            animation: fall linear infinite;
        }

        @keyframes fall {
            to { transform: translateY(100vh); }
        }

        @keyframes fadeInUp {
            to {
                opacity: 1;
                transform: translateY(0);
            }
        }

        @keyframes float {
            0% {
                transform: translateY(0) rotate(0deg);
                opacity: 1;
            }
            100% {
                transform: translateY(-100vh) rotate(360deg);
                opacity: 0;
            }
        }

        @keyframes gradientShift {
            0% { background-position: 0% 50%; }
            50% { background-position: 100% 50%; }
            100% { background-position: 0% 50%; }
        }

        button {
            background: linear-gradient(135deg, #ff3385, #ff0066);
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 1.2em;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.25, 0.46, 0.45, 0.94);
            box-shadow: 0 4px 15px rgba(255, 51, 133, 0.3);
            margin-top: 20px;
            animation: shadowPulse 2s infinite;
        }

        @keyframes shadowPulse {
            0% { box-shadow: 0 0 10px rgba(255, 51, 133, 0.3); }
            50% { box-shadow: 0 0 20px rgba(255, 51, 133, 0.6); }
            100% { box-shadow: 0 0 10px rgba(255, 51, 133, 0.3); }
        }

        button:hover {
            transform: scale(1.1);
        }

        .hidden {
            opacity: 0;
            transform: translateY(30px);
        }

        .visible {
            animation: fadeInUp 1s forwards;
        }

        .music-player {
            position: fixed;
            bottom: 20px;
            right: 20px;
            z-index: 1000;
            width: 60px;
            height: 60px;
            border-radius: 50%;
            background: #ff3385;
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(255, 51, 133, 0.4);
            transition: all 0.3s ease;
            border: 2px solid white;
            text-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
            animation: pulse 2s infinite;
        }

        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.1); }
            100% { transform: scale(1); }
        }

        .music-player:hover {
            transform: scale(1.1) rotate(360deg);
            background: #ff0066;
        }

        .music-player i {
            color: white;
            font-size: 28px;
        }

        .fade-out {
            opacity: 0;
            transform: translateY(-10px);
            transition: opacity 0.5s ease, transform 0.5s ease;
        }

        .highlight {
            color: #ff3385;
            font-weight: bold;
            text-shadow: 0 0 5px rgba(255, 51, 133, 0.5);
        }
    </style>
</head>
<body>
    <div id="particles-js" class="particles-js"></div>
    
    <div class="music-player" id="musicButton">
        ❤️
    </div>

    <div class="container">
        <div class="hero">
            <h1>Para mi princesa</h1>
            <div class="love-letter">
                <p id="message">Desde que te conocí muchas cosas cambiaron, ahora no soy tan odiosote (bueno, no contigo), soy mas feliz, mas tranquilo, me siento mejor, me sanaste poco a poco inconcientemente, y te agradezco por eso, pq aunque tu no lo sepas y no te hayas dado cuenta me ayudaste a estar mejor en el momento en el que mas lo necesitaba, nunca me imagine estar contigo, y la verdad le doy Gracias a Dios por ponerte en mi camino, se que en este momento estamos muy jovenes y no sabemos que pase en un futuro, pero quiero que sepas que pase lo que pase te voy a amar siempre y por mi parte siempre estare ahí para ti mi princesa, te amo como nunca amare a nadie mas </p>
                <button onclick="showSurprise()">♥</button>
                <button id="ver-mas-btn" onclick="window.location.href='index.html'">Volver</button>
            </div>
        </div>
    </div>

    <div class="hearts" id="hearts"></div>

    <audio id="clickSound" src="click-sound.mp3"></audio>

    <script src="https://cdn.jsdelivr.net/particles.js/2.0.0/particles.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.4.0/dist/confetti.browser.min.js"></script>
    <script>
        // Variables globales para controlar la animación
        let isTyping = false;
        let typingInterval;

        // Partículas de fondo
        particlesJS('particles-js', {
            particles: {
                number: { value: 80 },
                color: { value: '#ff3385' },
                shape: { type: 'circle' },
                opacity: { value: 0.5 },
                size: { value: 3 },
                move: {
                    enable: true,
                    speed: 2,
                    direction: 'none',
                    random: false,
                    straight: false,
                    out_mode: 'out',
                    bounce: false
                }
            },
            interactivity: {
                detect_on: 'canvas',
                events: {
                    onhover: { enable: true, mode: 'repulse' },
                    onclick: { enable: true, mode: 'push' },
                    resize: true
                }
            }
        });

        // Corazones flotantes
        function createHeart() {
            const heart = document.createElement('div');
            heart.innerHTML = '❤';
            heart.className = 'heart';
            heart.style.left = Math.random() * 100 + 'vw';
            document.getElementById('hearts').appendChild(heart);
            setTimeout(() => heart.remove(), 3000);
        }

        // Nieve cayendo
        function createSnow() {
            const snowflake = document.createElement('div');
            snowflake.innerHTML = '❄';
            snowflake.className = 'snowflake';
            snowflake.style.left = Math.random() * 100 + 'vw';
            snowflake.style.animationDuration = Math.random() * 3 + 2 + 's';
            document.body.appendChild(snowflake);
            setTimeout(() => snowflake.remove(), 5000);
        }

        setInterval(createSnow, 300);

        // Animación al hacer scroll
        const observer = new IntersectionObserver((entries) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('visible');
                }
            });
        }, { threshold: 0.1 });

        document.querySelectorAll('.hidden').forEach(el => observer.observe(el));

        // Sorpresa al hacer clic
        function showSurprise() {
            if (isTyping) return; // Evitar múltiples clics durante la animación

            const clickSound = document.getElementById('clickSound');
            clickSound.play();

            confetti({
                particleCount: 150,
                spread: 100,
                origin: { y: 0.6 },
                shapes: ['circle', 'square', 'star'],
                colors: ['#ff3385', '#ff66a3', '#ff99c2', '#ffccdd'],
                scalar: 1.5,
            });

            for (let i = 0; i < 50; i++) {
                setTimeout(createHeart, i * 100);
            }

            const messages = [
                "Fuiste sanando cosas en mi que tu no causaste",
                "Ahora soy más feliz, y más al saber que te tengo a ti",
                "Cada día te amo más",
                "Y me siento muy afortunado de tenerte en mi vida",
                "Te amo más de lo que te imaginas",
                "Y pase lo que pase siempre te amaré",
                "Sé que somos muy jóvenes aún, pero yo te amo y quiero estar contigo, no quiero a nadie más",
                "Y estoy dispuesto a esperar lo que sea necesario para estar contigo, porque te amo",
                "Hice esta página para que cada que te sientas mal o triste, la veas y sepas que tienes a alguien que te ama y daría lo que fuera por ti",
                "Quiero que sepas que eres el amor de mi vida, lo que siempre quise tener",
                "También quiero que sepas que siempre voy a estar para ti, pase lo que pase",
                "Gracias por todo, gracias por estar para mí",
                "Te amo muchísimo, mi princesa hermosa",
                "Eres la unica que de vd he amado y la que voy a amar siempre",
                "Quiero estar contigo siempre, pase lo que pase",
            ];

            const messageElement = document.getElementById('message');
            messageElement.classList.add('fade-out');
            
            setTimeout(() => {
                const randomMessage = messages[Math.floor(Math.random() * messages.length)];
                typeWriter(randomMessage, messageElement);
                messageElement.classList.remove('fade-out');
            }, 500);
        }

        // Efecto de máquina de escribir mejorado
        function typeWriter(text, element, speed = 50) {
            isTyping = true;
            clearInterval(typingInterval); // Limpiar cualquier intervalo anterior
            
            let i = 0;
            element.innerHTML = '';
            
            typingInterval = setInterval(() => {
                if (i < text.length) {
                    element.innerHTML += text.charAt(i);
                    i++;
                } else {
                    clearInterval(typingInterval);
                    isTyping = false;
                }
            }, speed);
        }

        // Música
        const musicButton = document.getElementById('musicButton');
        const audio = new Audio('music2.mp3');
        let isPlaying = false;

        musicButton.addEventListener('click', () => {
            if (isPlaying) {
                audio.pause();
                isPlaying = false;
            } else {
                audio.play();
                isPlaying = true;
            }
        });

        // Inicialización
        document.querySelectorAll('.photo-item').forEach(el => el.classList.add('hidden'));
        setInterval(createHeart, 2000);
    </script>
</body>
</html>